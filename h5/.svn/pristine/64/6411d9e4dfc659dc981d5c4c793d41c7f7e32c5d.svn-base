{"version":3,"sources":["webpack:///src/pages/MeModule/Coupon.vue","webpack:///./src/pages/MeModule/Coupon.vue?5126","webpack:///./src/pages/MeModule/Coupon.vue"],"names":["Coupon","data","show","page","totalPage","check","list","checkMsg","status","tabData","name","id","mounted","this","$nextTick","init","window","addEventListener","handleScroll","destroyed","removeEventListener","methods","document","documentElement","scrollTop","body","pageYOffset","clientHeight","scrollHeight","_this","$http","get","then","res","allpage","concat","checkTab","item","clickMarskShow","is_used","clickMarskHide","rightNowUse","MeModule_Coupon","render","_vm","_h","$createElement","_c","_self","staticClass","_l","index","class","active","on","click","$event","_v","_s","length","card-gray-bg","card_money","branch_name","ctime","_e","directives","rawName","value","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.9ea6277de19a2329400f.js","sourcesContent":["<template>\n    <div class=\"main-con\">\n        <div class=\"tab\">\n            <div v-for=\"(item,index) in tabData\" :class=\"{'active': status==item.id}\" \n            @click='checkTab(item)'>{{item.name}}</div>\n        </div>\n        <div class='card-wrap' v-if=\"list.length>0\">\n            <div class='card-list' v-for=\"item in list\" @click='clickMarskShow(item)' :class=\"{'card-gray-bg':item.is_used!=2}\">\n                <div>\n                    <div class='card-con'>\n                        <div class='card-money'>\n                            <span class='font-20'>￥</span>\n                            <span>{{item.card_money}}</span>\n                        </div>\n                        <div>\n                            <div>优惠券</div>\n                            <div class='font-20'>{{item.branch_name}}可用</div>\n                        </div> \n                    </div>\n                    <div class='font-20 useful-date'>领取日期：{{item.ctime}}</div>\n                    <!--<div class='font-20 useful-date'>有效日期：{{item.ctime}}</div>-->\n                </div>\n                <div class='right-new-wrap' v-if=\"item.is_used==2\">立即使用</div>\n                <div class='right-new-wrap' v-else>已经使用</div>\n            </div>\n        </div>\n        <div class=\"no-data-tip\" v-if=\"list.length==0&&status==2\">暂无未使用的优惠券</div>\n        <div class=\"no-data-tip\" v-if=\"list.length==0&&status==1\">暂无使用记录</div>\n        <!-- 点击使用的阴影 -->\n        <div v-show='show' class='marsk' @click='clickMarskHide'>\n            <div class='toast-bg'>\n                <div class='toast-inner'>\n                    <div class='title'>恭喜您</div>\n                    <div class='title'>获得优惠券</div>\n                    <div class='card-con'>\n                        <div class='card-money'><span class='font-20'>￥</span><span>{{checkMsg.card_money}}</span></div>\n                        <div>优惠券</div>\n                    </div>\n                </div>\n                <!--<div class='button' @click='rightNowUse'>\n                    <button>立即使用</button>\n                </div>-->\n            </div>\n\n        </div>\n    </div>\n</template> \n<script>\nexport default {\n    data(){\n        return{\n            show: false,\n            page: 1,\n            totalPage: 0,\n            check: true,\n            list: [],\n            checkMsg: {},\n            status: 2,\n            tabData: [\n                {name: '未使用',id: 2},\n                {name: '已使用',id: 1},\n            ],\n        }\n    },\n    mounted() {\n        this.$nextTick(function(){\n            this.init()\n            window.addEventListener('scroll', this.handleScroll, true); \n        })\n    },\n    destroyed () {\n        window.removeEventListener('scroll', this.handleScroll);\n    },\n    methods: {\n        handleScroll    : function(){//滚动监听\n            var sT = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;//对象滚动的高度\n            var wH = document.documentElement.clientHeight || document.body.clientHeight;//对象滚动的高度\n            var bH = document.documentElement.scrollHeight || document.body.scrollHeight;//对象滚动的高度\n            if(sT+wH == bH&&this.page<=this.totalPage){\n                if(!this.check) return false;\n                this.check = !this.check;\n                this.init()\n            }  \n        },\n        init(){\n            var _this = this;\n            this.$http.get(\"do=user_coupon&m=vipcard&page=\"+this.page+\"&psize=10&is_used=\"+this.status+\"&sid=1\")\n            .then(function(res){ \n                _this.check = true;\n                _this.page++;\n                _this.totalPage = res.allpage;\n                _this.list = _this.list.concat(res.list);\n            })\n        },\n        checkTab: function(item){\n            this.status = item.id;\n            this.list = [];\n            this.page = 1;\n            this.init();\n        },\n        clickMarskShow(item){\n            if(item.is_used==1)return false;\n            this.show = true;\n            this.checkMsg = item;\n        },\n        clickMarskHide(){\n            this.show = false;\n        },\n        rightNowUse(){\n            this.show = false;\n        }\n    },\n}\n</script>\n<style lang=\"scss\" scoped>\n    @import '../../assets/css/style';\n    .no-data-tip{\n        padding-top: 2.3rem;\n    }\n    \n    .tab{\n        width: 100%;\n        background: #fff;\n        position: fixed;\n        left: 0;\n        top: 0;\n        z-index: 10\n    }\n    .tab>div{\n        display: inline-block;\n        width: 50%;\n        text-align: center;\n        padding: .3rem 0;\n        box-sizing: border-box;\n        font-size: .3rem;\n    }\n    .tab .active{\n        color: #DC3E56;\n        border-bottom: 1px solid #DC3E56;\n    }\n    .card-wrap{\n        width: 100%;\n        padding: .4rem .34rem;\n        padding-top: 1.2rem;\n        box-sizing: border-box;\n    }\n    .card-list{\n        width: 100%;\n        height: 1.8rem;\n        border-radius: 8px;\n        box-shadow: 0 0 10px 0 red;\n        padding:.2rem .34rem .2rem .4rem;\n        box-sizing: border-box;\n        color: #fff;\n        font-size: $font-38;\n        margin-bottom: .34rem;\n        background: url(../../assets/images/coupou-active-bg.png) no-repeat;\n        background-size: 100%;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n    .card-gray-bg{\n        width: 100%;\n        height: 1.8rem;\n        background: url(../../assets/images/coupou-gray-bg.png) no-repeat;\n        background-size: 100%;\n        box-shadow: 0 0 10px 0 gray!important;\n    }\n    .card-con>div{\n        display: inline-block;\n        vertical-align: middle;\n    }\n    .card-money{\n        font-size: $font-38;\n        padding-right: .34rem;\n    }\n    .card-money span{\n        display: inline-block;\n        vertical-align: top;\n    }\n    .useful-date{\n        margin-top: .16rem;\n    }\n    .right-new-wrap{\n        width: 20%;\n        letter-spacing: .1rem;\n        padding-left: .1rem;\n        box-sizing: border-box;\n    }\n\n    /* 阴影 */\n    .marsk{\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, .4);\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n    .marsk .toast-bg{\n        width: 4rem;\n        height: 6rem;\n        color: red;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-46%,-50%);\n        background:url(../../assets/images/toast-bg.png) no-repeat;\n        background-size: 100%;\n    }\n    .toast-inner{\n        width: 100%;\n        height: 4rem;\n        padding: 1.2rem .2rem 0 0;\n        box-sizing: border-box;\n    }\n    .marsk .title{\n        color: #F5D591;\n        font-weight: 600;\n        font-family: serif;\n        font-size: $font-38;\n        text-align: center;\n    }\n    .marsk .card-con{\n        width: 70%;\n        height: 1rem;\n        line-height: 1rem;\n        margin: .2rem auto;\n        background: #FCF0C8;\n        border-radius: 8px;\n        font-size: $font-38;\n        font-weight: 500;\n        color: red;\n        text-align: center;\n    }\n    .marsk .card-con div{\n        display: inline-block;\n    }\n    .mask .card-money span{\n        display: inline-block;\n        vertical-align: top;\n    }\n\n    .button button{\n        width: 3.8rem;\n        background: transparent;\n        color: red;\n        border-radius: 100px;\n        border: none;\n        font-size: $def-font-size;\n        outline: none;\n        margin-top: .36rem;\n        padding: 0;\n    }\n    .button button::after{ border: none; }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/MeModule/Coupon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-con\"},[_c('div',{staticClass:\"tab\"},_vm._l((_vm.tabData),function(item,index){return _c('div',{class:{'active': _vm.status==item.id},on:{\"click\":function($event){return _vm.checkTab(item)}}},[_vm._v(_vm._s(item.name))])}),0),_vm._v(\" \"),(_vm.list.length>0)?_c('div',{staticClass:\"card-wrap\"},_vm._l((_vm.list),function(item){return _c('div',{staticClass:\"card-list\",class:{'card-gray-bg':item.is_used!=2},on:{\"click\":function($event){return _vm.clickMarskShow(item)}}},[_c('div',[_c('div',{staticClass:\"card-con\"},[_c('div',{staticClass:\"card-money\"},[_c('span',{staticClass:\"font-20\"},[_vm._v(\"￥\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.card_money))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(\"优惠券\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-20\"},[_vm._v(_vm._s(item.branch_name)+\"可用\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"font-20 useful-date\"},[_vm._v(\"领取日期：\"+_vm._s(item.ctime))])]),_vm._v(\" \"),(item.is_used==2)?_c('div',{staticClass:\"right-new-wrap\"},[_vm._v(\"立即使用\")]):_c('div',{staticClass:\"right-new-wrap\"},[_vm._v(\"已经使用\")])])}),0):_vm._e(),_vm._v(\" \"),(_vm.list.length==0&&_vm.status==2)?_c('div',{staticClass:\"no-data-tip\"},[_vm._v(\"暂无未使用的优惠券\")]):_vm._e(),_vm._v(\" \"),(_vm.list.length==0&&_vm.status==1)?_c('div',{staticClass:\"no-data-tip\"},[_vm._v(\"暂无使用记录\")]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"marsk\",on:{\"click\":_vm.clickMarskHide}},[_c('div',{staticClass:\"toast-bg\"},[_c('div',{staticClass:\"toast-inner\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"恭喜您\")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"获得优惠券\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-con\"},[_c('div',{staticClass:\"card-money\"},[_c('span',{staticClass:\"font-20\"},[_vm._v(\"￥\")]),_c('span',[_vm._v(_vm._s(_vm.checkMsg.card_money))])]),_vm._v(\" \"),_c('div',[_vm._v(\"优惠券\")])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e52160b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/MeModule/Coupon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e52160b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Coupon.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Coupon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Coupon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e52160b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Coupon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e52160b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/MeModule/Coupon.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}