{"version":3,"sources":["webpack:///src/pages/IndexModule/ShopConfirmOrder.vue","webpack:///./src/pages/IndexModule/ShopConfirmOrder.vue?3782","webpack:///./src/pages/IndexModule/ShopConfirmOrder.vue"],"names":["ShopConfirmOrder","data","thumb","goods","dan","num","show","computed","money","this","mounted","$nextTick","_this","id","$route","params","$http","get","then","res","marketprice","qrcode","methods","reduce","add","usermaxbuy","goBuy","credit1","$toast","message","confirmBuy","setTimeout","$router","push","IndexModule_ShopConfirmOrder","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","_v","_s","title","unit","on","click","directives","name","rawName","value","expression","readonly","type","pattern","domProps","input","$event","target","composing","Number","replace","goodssn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/36.465a888219eb24abf2ea.js","sourcesContent":["<template>\n    <div class='list-wrap'>\n        <!-- 中间  -->\n        <div class='list-con'>\n            <div class='img-wrap'>\n                <img :src='thumb'/>\n            </div>\n            <div class='con'>\n                <p class='shop-title'>{{goods.title}}</p>\n                <p class='gray-color'>最多可兑换{{goods.usermaxbuy}}{{goods.unit}}</p>\n                <p class='gray-color'>(季度限定，售完即止)</p>\n                <div class='jifen-wrap'>\n                    <p class='jifen-title'>\n                        <span class='gray-color'>积分：</span>\n                        <span class='red-color money'>{{dan}}</span>\n                    </p>\n                    <div class=\"operate-wrap\">\n                        <span class='reduce-btn' @click='reduce'>-</span>\n                        <div class='num-inp'><input readonly type=\"number\" v-model=\"num\" @input=\"num = Number($event.target.value.replace(/\\D+/, ''));num<goods.usermaxbuy\" pattern=\"[0-9]*\"/></div>\n                        <span class='add-btn' @click='add'>+</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- 底部 -->\n        <div class='list-bottom'>\n            <span class='gray-color'>商品编号：{{goods.goodssn}}</span>\n        </div>\n        <div class='btn-wrap'>\n            <button class='get-btn'>\n                <span class='gray-color'>积分：</span>\n                <span class='red-color font-30'>{{money}}</span>\n            </button>\n            <button class='com-btn' @click=\"goBuy\">确定兑换</button>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    data(){\n        return{\n            thumb:'',//主图\n            goods: '',//商品详情\n            dan: 0,\n            num: 1,\n            show: false\n        }\n    },\n    computed: {\n        money(){\n            return this.num*this.dan;\n        }\n    },\n    mounted() {\n        this.$nextTick(function(){\n            var _this = this;\n            this.id = this.$route.params.id;\n            this.$http.get(\"do=detail&m=score_shop&id=\"+this.id)\n            .then(function(res){\n                //主图\n                _this.thumb = res.goods.thumb;\n                //积分\n                _this.dan = res.goods.marketprice;\n                _this.goods = {qrcode:res.goods.qrcode};\n            })\n        })\n    },\n    methods: {\n        reduce: function () {\n            var num = this.num;\n            num--;\n            num = num <= 1 ? 1 : num;\n            this.num = num;\n        },\n        add: function(){\n            var num = this.num;\n            num++;\n            if(num>this.goods.usermaxbuy) return false;\n            this.num = num;\n        },\n        goBuy(){\n            //重新获取积分数据\n            var _this = this;\n            this.$http.get(\"do=info&m=vipcard\")\n            .then(function(res){\n                if(res.credit1<_this.money){\n                    _this.$toast({message: \"积分不够哦,请充值\"})\n                    return false;\n                }\n                _this.confirmBuy()\n            })\n            \n        },\n        confirmBuy(){\n            var _this = this;\n            this.$http.get(\"do=exchange&m=score_shop&id=\"+this.id+\"&num=\"+this.num)\n            .then(function(res){\n                _this.$toast({message: \"兑换成功\"})\n                setTimeout(function(){\n                    _this.$router.push(\"/order\")\n                },1000)\n            })\n        }\n    },\n}\n</script>   \n<style lang=\"scss\" scoped>\n    @import '../../assets/css/style';\n    .font-30{\n        font-size: .3rem;\n        font-weight: 600;\n    }\n    .red-color{\n        color: #f55d54;\n    }\n    .gray-color{\n        color: gray;\n    }\n    .list-wrap{\n        width: 100%;\n        background: #fff;\n    }\n    /*中间内容  */\n    .list-con{\n        width: 100%;\n        padding: .2rem .34rem;\n        box-sizing: border-box;\n        border-top: 1px solid #efefef;\n        border-bottom: 1px solid #efefef;\n        display: flex;\n    }\n    .img-wrap{\n        width: 2rem;\n        height: 2rem;\n        border-radius: 4px;\n        box-shadow: 0 0 1px 0 rgba(0, 0, 0, .6);\n    }\n    .img-wrap img{\n        width: 100%;\n        height: 100%;\n        border-radius: 4px;\n    }\n    .con{\n        width: 70%;\n        padding: .2rem 0  0 .4rem;\n        box-sizing: border-box;\n    }\n    .con .shop-title{\n        width: 100%;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n        font-size: .24rem;\n        margin-bottom: .1rem;\n    }\n    .con .gray-color{\n        font-size: .22rem;\n    }\n    .jifen-wrap{\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-top: .2rem;\n    }\n    .jifen-wrap .money{\n        font-weight: 500;\n        font-size: .3rem;\n    }\n    .jifen-title span{\n        vertical-align: bottom;\n    }\n    .operate-wrap{\n        font-size: 0;\n    }\n    .add-btn,.reduce-btn{\n        display: inline-block;\n        width: .4rem;\n        height: .4rem;\n        line-height: .4rem;\n        vertical-align: middle;\n        background: #ccc;\n        color: #fff;\n        text-align: center;\n        font-size: $font-24;\n    }\n    input{\n        // min-height: .4rem;\n        // height: .4rem;\n        width: 100%;\n        height: 100%;\n        text-align: center;\n        font-size: $font-24;\n    }\n    .num-inp{\n        display: inline-block;\n        width: .6rem;\n        height: .4rem!important;\n        line-height: .4rem;\n        vertical-align: middle;\n        border-top: 1px solid #ccc;\n        border-bottom: 1px solid #ccc;\n        box-sizing: border-box;\n    }\n\n\n    /*底部  */\n    .list-bottom{\n        width: 100%;\n        padding: .18rem .34rem;\n        box-sizing: border-box;\n    }\n\n    /* 按钮 */\n    .btn-wrap{\n        width: 100%;\n        height: .8rem;\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        font-size: 0;\n    }\n    .btn-wrap button{\n        display: inline-block;\n        height: .8rem;\n        line-height: .8rem;\n        color: #fff;\n        border-radius: 0;\n        font-size: .24rem;\n    }\n    .get-btn{\n        background: #fff;\n        width: 60%;\n    }\n    .com-btn{\n        background: #FE0000;\n        width: 40%;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/IndexModule/ShopConfirmOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-wrap\"},[_c('div',{staticClass:\"list-con\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{attrs:{\"src\":_vm.thumb}})]),_vm._v(\" \"),_c('div',{staticClass:\"con\"},[_c('p',{staticClass:\"shop-title\"},[_vm._v(_vm._s(_vm.goods.title))]),_vm._v(\" \"),_c('p',{staticClass:\"gray-color\"},[_vm._v(\"最多可兑换\"+_vm._s(_vm.goods.usermaxbuy)+_vm._s(_vm.goods.unit))]),_vm._v(\" \"),_c('p',{staticClass:\"gray-color\"},[_vm._v(\"(季度限定，售完即止)\")]),_vm._v(\" \"),_c('div',{staticClass:\"jifen-wrap\"},[_c('p',{staticClass:\"jifen-title\"},[_c('span',{staticClass:\"gray-color\"},[_vm._v(\"积分：\")]),_vm._v(\" \"),_c('span',{staticClass:\"red-color money\"},[_vm._v(_vm._s(_vm.dan))])]),_vm._v(\" \"),_c('div',{staticClass:\"operate-wrap\"},[_c('span',{staticClass:\"reduce-btn\",on:{\"click\":_vm.reduce}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('div',{staticClass:\"num-inp\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.num),expression:\"num\"}],attrs:{\"readonly\":\"\",\"type\":\"number\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.num)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.num=$event.target.value},function($event){_vm.num = Number($event.target.value.replace(/\\D+/, ''));_vm.num<_vm.goods.usermaxbuy}]}})]),_vm._v(\" \"),_c('span',{staticClass:\"add-btn\",on:{\"click\":_vm.add}},[_vm._v(\"+\")])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"list-bottom\"},[_c('span',{staticClass:\"gray-color\"},[_vm._v(\"商品编号：\"+_vm._s(_vm.goods.goodssn))])]),_vm._v(\" \"),_c('div',{staticClass:\"btn-wrap\"},[_c('button',{staticClass:\"get-btn\"},[_c('span',{staticClass:\"gray-color\"},[_vm._v(\"积分：\")]),_vm._v(\" \"),_c('span',{staticClass:\"red-color font-30\"},[_vm._v(_vm._s(_vm.money))])]),_vm._v(\" \"),_c('button',{staticClass:\"com-btn\",on:{\"click\":_vm.goBuy}},[_vm._v(\"确定兑换\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-677d1c8a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/IndexModule/ShopConfirmOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-677d1c8a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./ShopConfirmOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ShopConfirmOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ShopConfirmOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-677d1c8a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./ShopConfirmOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-677d1c8a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/IndexModule/ShopConfirmOrder.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}