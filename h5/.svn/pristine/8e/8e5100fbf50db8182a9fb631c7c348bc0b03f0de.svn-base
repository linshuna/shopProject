webpackJsonp([31],{HMDI:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"main-con"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showMa,expression:"!showMa"}]},[a("div",{staticClass:"header"},[a("span",{staticClass:"red-color"},[t._v("队员")]),t._v(" "),a("span",{on:{click:t.goVipErweima}},[t._v("邀请")])]),t._v(" "),a("ul",{staticClass:"team-list"},t._l(t.list,function(i){return a("li",{on:{click:function(a){return t.goTeamDetail(i.bid)}}},[a("div",[a("img",{attrs:{src:i.avatar}}),t._v(" "),a("span",[t._v(t._s(i.mobile))])]),t._v(" "),a("div",[a("button",{on:{click:function(a){return t.settingTeam(a,i)}}},[t._v("设置")]),t._v(" "),a("button",{on:{click:function(a){return t.settingTeamDel(a,i)}}},[t._v("删除")])])])}),0),t._v(" "),a("button",{staticClass:"btn-wrap",on:{click:function(i){t.showAdd=!0}}},[t._v("添加")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdd,expression:"showAdd"}],staticClass:"marsk-wrap"},[a("div",{staticClass:"marsk-inner"},[a("p",{staticClass:"title"},[t._v("添加队员")]),t._v(" "),a("div",{staticClass:"tel-wrap"},[t._v("\n                手机号："),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"tel",placeholder:"请输入手机号",maxlength:"11"},domProps:{value:t.mobile},on:{input:function(i){i.target.composing||(t.mobile=i.target.value)}}})]),t._v(" "),a("div",{staticClass:"marsk-btn-wrap"},[a("span",{on:{click:function(i){t.showAdd=!1}}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"red-color",on:{click:t.saveTeam}},[t._v("保存")])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"marsk-wrap"},[a("div",{staticClass:"marsk-inner"},[a("p",{staticClass:"title"},[t._v("修改规则")]),t._v(" "),a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:t.info.avatar}}),t._v(" "),a("p",[t._v(t._s(t.info.realname))])]),t._v(" "),a("ul",{staticClass:"detail-wrap"},[a("li",[a("span",{staticClass:"det-title"},[t._v("每日限额：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.info.day_limit,expression:"info.day_limit"}],attrs:{type:"text"},domProps:{value:t.info.day_limit},on:{input:function(i){i.target.composing||t.$set(t.info,"day_limit",i.target.value)}}}),t._v(" "),a("span",[t._v("元")])]),t._v(" "),a("li",[a("span",{staticClass:"det-title"},[t._v("总限额：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.info.all_limit,expression:"info.all_limit"}],attrs:{type:"text"},domProps:{value:t.info.all_limit},on:{input:function(i){i.target.composing||t.$set(t.info,"all_limit",i.target.value)}}}),t._v(" "),a("span",[t._v("元")])])]),t._v(" "),a("div",{staticClass:"marsk-btn-wrap"},[a("span",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"red-color",on:{click:t.saveRule}},[t._v("保存")])])])])])},staticRenderFns:[]};var e=a("Mz/3")({data:function(){return{list:[],info:{},mobile:"",showAdd:!1,show:!1,showMa:!1,erweima:{goods_name:"xx",qrcode:"erweima"}}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$http.get("do=team_data&m=vipcard").then(function(i){t.list=i.list,t.erweima=i})},settingTeam:function(t,i){this.show=!0,this.info=i,t.stopPropagation()},settingTeamDel:function(t,i){var a=this;this.$message.confirm("",{title:"是否确定删除该成员",message:" ",showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(t){if("confirm"===t){var s=a;a.$nextTick(function(){a.$http.get("do=team_del&m=vipcard&bid="+i.bid).then(function(t){s.$toast({message:"删除成功"}),s.init()})})}}),t.stopPropagation()},cancel:function(){this.show=!1},save:function(){this.show=!1},goTeamDetail:function(t){this.$router.push("/myTeamDetail/"+t)},saveTeam:function(){if(!/^[1][3,4,5,7,8,9][0-9]{9}$/.test(this.mobile))return this.$toast({message:"电话号码格式错误"}),!1;var t=this;this.$http.get("do=team_add&m=vipcard&mobile="+this.mobile).then(function(i){t.showAdd=!1,t.$toast({message:"设置成功"}),t.init()})},saveRule:function(){var t=this;this.$http.get("do=team_set&m=vipcard&bid="+this.info.bid+"&day_limit="+this.info.day_limit+"&all_limit="+this.info.all_limit).then(function(i){t.show=!1,t.$toast({message:"设置成功"})})},goVipErweima:function(){this.$router.push("/shopQrcode/vip")}}},s,!1,function(t){a("qV4Z")},"data-v-2bde5fa8",null);i.default=e.exports},qV4Z:function(t,i){}});
//# sourceMappingURL=31.4169eb2f33dd9966ca7d.js.map