webpackJsonp([38],{"50WE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{m:59,mobile:"",realname:"",smscode:"",pid:4,showYzm:!1,cardMsg:""}},mounted:function(){this.pid=this.$route.params.id,this.pid&&(document.title="团队会员卡");var e=this;this.$http.get("do=get_setting&m=vipcard").then(function(t){e.cardMsg=t})},methods:{sendYzm:function(){var e=this;if(this.showYzm)return!1;this.$http.get("do=verifycode&m=vipcard&mobile="+this.mobile).then(function(t){e.showYzm=!0;var a=e.m,s=setInterval(function(){if(a<=1)return clearInterval(s),e.showYzm=!1,e.m=59,!1;a--,e.m=a},1e3)})},goTeam:function(){this.$router.push("/cardCom")},getCard:function(){var e=this.cardMsg.card_fee;e&&""!=e?this.jsApiCall():this.goVipCenter()},goVipCenter:function(){var e=this;this.$http.get("do=get_card&m=vipcard&mobile="+this.mobile+"&realname="+this.realname+"&smscode="+this.smscode+"&pid="+this.pid).then(function(t){e.$toast({message:"领卡成功"}),setTimeout(function(){e.$router.push("/vipCenter")},1e3)})},jsApiCall:function(e){self=this,WeixinJSBridge.invoke("getBrandWCPayRequest",e.packages,function(e){return"get_brand_wcpay_request:ok"==e.err_msg?(self.$toast({message:"支付成功"}),self.goVipCenter(),!1):"get_brand_wcpay_request:cancel"==e.err_msg?(self.$toast({message:"已取消支付"}),!1):"get_brand_wcpay_request:fail"==e.err_msg?(self.$toast({message:"支付失败"}),!1):void 0})},callpay:function(e){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",jsApiCall,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",jsApiCall),document.attachEvent("onWeixinJSBridgeReady",jsApiCall)):this.jsApiCall(e)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vip-wrap"},[a("ul",[a("li",[a("span",[e._v("姓名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.realname,expression:"realname"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:e.realname},on:{input:function(t){t.target.composing||(e.realname=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("手机号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),e._v(" "),a("li",{staticClass:"yzm-wrap"},[a("div",{staticClass:"yzm-inner"},[a("span",[e._v("验证码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.smscode,expression:"smscode"}],attrs:{type:"tel",placeholder:"请输入验证码"},domProps:{value:e.smscode},on:{input:function(t){t.target.composing||(e.smscode=t.target.value)}}})]),e._v(" "),a("span",{staticClass:"send-yzm",class:{"gray-color":e.showYzm},on:{click:e.sendYzm}},[e._v(e._s(e.showYzm?e.m+" s":"发送验证码"))])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.cardMsg.card_fee&&""!=e.cardMsg.card_fee&&e.cardMsg.card_fee>0,expression:"cardMsg.card_fee&&cardMsg.card_fee!=''&&cardMsg.card_fee>0"}]},[a("span",[e._v("会员费用")]),e._v(" "),a("span",{staticClass:"red-color"},[e._v(e._s(e.cardMsg.card_fee)+"元")])])]),e._v(" "),a("div",{staticClass:"btn-wrap"},[a("button",{staticClass:"get-btn",on:{click:e.getCard}},[e._v("领取")])])])},staticRenderFns:[]};var n=a("Mz/3")(s,i,!1,function(e){a("VTNX")},"data-v-489a1a6e",null);t.default=n.exports},VTNX:function(e,t){}});
//# sourceMappingURL=38.ccb494cc890744d505dc.js.map